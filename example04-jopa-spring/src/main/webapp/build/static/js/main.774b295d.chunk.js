(this["webpackJsonpjopa-example04"]=this["webpackJsonpjopa-example04"]||[]).push([[0],{36:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(13),s=n.n(a),i=(n(36),n(67)),u=n(29),j=n(8),l={REQUEST:"REQUEST",SUCCESS:"SUCCESS",FAILURE:"FAILURE"},o={SELECT_DATA_FORMAT:"SELECT_DATA_FORMAT",LOAD_DATA:"LOAD_DATA",LOAD_STUDENTS:"LOAD_STUDENTS",CREATE_STUDENT:"CREATE_STUDENT",DELETE_STUDENT:"DELETE_STUDENT"},d=n(12),O=n.n(d);function b(e){return Object.assign({},e,{status:l.REQUEST})}function h(e){return Object.assign({},e,{status:l.SUCCESS})}function x(e,t){return Object.assign({},e,{status:l.SUCCESS,payload:t})}function f(e,t){return Object.assign({},e,{status:l.FAILURE,error:t})}function m(){var e={type:o.LOAD_DATA};return function(t,n){return t(b(e)),O.a.get("rest/data?format=".concat(n().dataFormat),{headers:{accept:"text/plain"}}).then((function(e){return e.data})).then((function(n){return t(x(e,n))})).catch((function(n){return t(f(e,n)),""}))}}function E(){var e={type:o.LOAD_STUDENTS};return function(t){return t(b(e)),O.a.get("rest/students").then((function(e){return e.data})).then((function(n){return t(x(e,n))})).catch((function(n){return t(f(e,n))}))}}var S=n(71),T=n(70),v=n(1),A=[{value:"rdfxml",label:"RDF/XML (Pretty)"},{value:"json",label:"JSON"},{value:"turtle",label:"Turtle"}],g=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.dataFormat})),n=Object(j.c)((function(e){return e.data}));r.a.useEffect((function(){e(m())}),[e]);return Object(v.jsxs)(S.a,{style:{height:"100%"},children:[Object(v.jsx)(S.a.Header,{children:Object(v.jsx)("h3",{children:"Repository Content"})}),Object(v.jsxs)(S.a.Body,{children:[Object(v.jsx)(T.a.Group,{children:Object(v.jsx)(T.a.Control,{as:"select",onChange:function(t){e(function(e){return{type:o.SELECT_DATA_FORMAT,format:e}}(t.currentTarget.value)),e(m())},size:"sm",value:t,children:A.map((function(e){return Object(v.jsx)("option",{value:e.value,children:e.label},e.value)}))})}),Object(v.jsx)(T.a.Group,{children:Object(v.jsx)(T.a.Control,{as:"textarea",rows:20,value:"json"===t?JSON.stringify(n,null,2):n,size:"sm"})})]})]})},p=n(68),C=n(72),D=function(e){var t=e.student,n=e.onDelete,c=t.firstName+" "+t.lastName;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"align-middle",children:c}),Object(v.jsx)("td",{className:"align-middle",children:t.email}),Object(v.jsx)("td",{className:"text-center align-middle",children:Object(v.jsx)(C.a,{size:"sm",variant:"warning",onClick:function(){return n(t)},children:"Delete"})})]})},N=n(31),_=n(66),L=function(e){var t=e.onSubmit,n=r.a.useState({firstName:"",lastName:"",email:""}),c=Object(N.a)(n,2),a=c[0],s=c[1],i=function(e){var t={};t[e.target.name]=e.target.value,s(Object.assign({},a,t))},u=function(){t(a)};return Object(v.jsxs)(S.a,{children:[Object(v.jsx)(S.a.Header,{children:Object(v.jsx)("h5",{children:"Add Student"})}),Object(v.jsxs)(S.a.Body,{children:[Object(v.jsxs)(T.a.Group,{children:[Object(v.jsx)(T.a.Label,{children:"First name"}),Object(v.jsx)(T.a.Control,{name:"firstName",value:a.firstName,onChange:i,size:"sm"})]}),Object(v.jsxs)(T.a.Group,{children:[Object(v.jsx)(T.a.Label,{children:"Last name"}),Object(v.jsx)(T.a.Control,{name:"lastName",value:a.lastName,onChange:i,size:"sm"})]}),Object(v.jsxs)(T.a.Group,{children:[Object(v.jsx)(T.a.Label,{children:"Email"}),Object(v.jsx)(T.a.Control,{name:"email",value:a.email,onChange:i,onKeyPress:function(e){13===e.charCode&&u()},size:"sm"})]}),Object(v.jsx)(_.a,{className:"float-right mt-2",children:Object(v.jsx)(C.a,{variant:"success",onClick:u,children:"Submit"})})]})]})},y=function(){var e=Object(j.c)((function(e){return e.students})),t=Object(j.b)();r.a.useEffect((function(){t(E())}),[t]);var n=function(e){t(function(e){var t={type:o.DELETE_STUDENT};return function(n){return n(b(t)),O.a.delete("rest/students/".concat(e.key)).then((function(){return n(h(t)),n(m()),n(E())})).catch((function(e){return n(f(t,e))}))}}(e))};return Object(v.jsxs)(S.a,{variant:"info",children:[Object(v.jsx)(S.a.Header,{children:Object(v.jsx)("h3",{children:"Students"})}),Object(v.jsxs)(S.a.Body,{children:[Object(v.jsx)(i.a,{children:Object(v.jsx)(u.a,{children:Object(v.jsxs)(p.a,{striped:!0,hover:!0,bordered:!0,responsive:!0,size:"sm",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"Name"}),Object(v.jsx)("td",{children:"Email"}),Object(v.jsx)("td",{className:"text-center",children:"Actions"})]})}),Object(v.jsx)("tbody",{children:e.map((function(e){return Object(v.jsx)(D,{onDelete:n,student:e},e.key)}))})]})})}),Object(v.jsx)(i.a,{children:Object(v.jsx)(u.a,{children:Object(v.jsx)(L,{onSubmit:function(e){t(function(e){var t={type:o.CREATE_STUDENT};return function(n){return n(b(t)),O.a.post("rest/students",e).then((function(){return n(h(t)),n(m()),n(E())})).catch((function(e){return n(f(t,e))}))}}(e))}})})})]})]})},U=function(){return Object(v.jsxs)(i.a,{children:[Object(v.jsx)(u.a,{xs:5,children:Object(v.jsx)(y,{})}),Object(v.jsx)(u.a,{xs:7,children:Object(v.jsx)(g,{})})]})},F=n(69);var R=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("header",{className:"ml-2 mr-2 mt-2",children:Object(v.jsx)("h1",{children:"Example04 - JOPA + Spring"})}),Object(v.jsx)(F.a,{id:"content-container",fluid:!0,className:"mt-5 mb-5 flex-grow-1",children:Object(v.jsx)(U,{})})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))},z=n(9);var M=Object(z.c)({dataFormat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A[0].value,t=arguments.length>1?arguments[1]:void 0;return t.type===o.SELECT_DATA_FORMAT?t.format:e},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===o.LOAD_DATA&&t.status===l.SUCCESS?t.payload:e},students:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===o.LOAD_STUDENTS&&t.status===l.SUCCESS?t.payload:e}}),k=n(30),I=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z.d,P=Object(z.e)(M,I(Object(z.a)(k.a)));n(64);s.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(j.a,{store:P,children:Object(v.jsx)(R,{})})}),document.getElementById("root")),w()}},[[65,1,2]]]);
//# sourceMappingURL=main.774b295d.chunk.js.map